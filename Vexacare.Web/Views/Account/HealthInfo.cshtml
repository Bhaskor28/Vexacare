@model HealthInfoVM

<!-- Medical Profile Breadcrumb Start -->
<section class="medical-profile-breadcrumb">
    <div class="container">
        <div class="medical-profile-breadcrumb-wrapper">
            <div class="medical-profile-breadcrumb-content">
                <div class="medical-profile-breadcrumb-number compleate">1</div>
                <p class="medical-profile-breadcrumb-title">Basic Info</p>
            </div>

            <div class="medical-profile-breadcrumb-line"></div>

            <div class="medical-profile-breadcrumb-content">
                <div class="medical-profile-breadcrumb-number active">2</div>
                <p class="medical-profile-breadcrumb-title">Health Info</p>
            </div>

            <div class="medical-profile-breadcrumb-line"></div>

            <div class="medical-profile-breadcrumb-content">
                <div class="medical-profile-breadcrumb-number">3</div>
                <p class="medical-profile-breadcrumb-title">
                    Gastrointestinal History
                </p>
            </div>

            <div class="medical-profile-breadcrumb-line"></div>

            <div class="medical-profile-breadcrumb-content">
                <div class="medical-profile-breadcrumb-number">4</div>
                <p class="medical-profile-breadcrumb-title">
                    Function & Symptoms
                </p>
            </div>

            <div class="medical-profile-breadcrumb-line"></div>

            <div class="medical-profile-breadcrumb-content">
                <div class="medical-profile-breadcrumb-number">5</div>
                <p class="medical-profile-breadcrumb-title">Diet Profile</p>
            </div>

            <div class="medical-profile-breadcrumb-line"></div>

            <div class="medical-profile-breadcrumb-content">
                <div class="medical-profile-breadcrumb-number">6</div>
                <p class="medical-profile-breadcrumb-title">Lifestyle</p>
            </div>

            <div class="medical-profile-breadcrumb-line"></div>

            <div class="medical-profile-breadcrumb-content">
                <div class="medical-profile-breadcrumb-number">7</div>
                <p class="medical-profile-breadcrumb-title">Therapies & Goals</p>
            </div>
        </div>
    </div>
</section>
<!-- Medical Profile Breadcrumb End -->
<!-- Medical Profile Form Start -->
<section class="medical-profile-form medical-profile-form-2">
    <div class="container">
        <div class="medical-profile-form-wrapper">
            <div class="form-step">
                <h2 class="form-title">Step 2: Health Info</h2>
                
                <form asp-action="HealthInfo" method="post" class="login-form-input-wrapper">

                    <!-- Form Fields -->
                
                    <!-- Anthropometric Parameters Section -->
                    <div class="form-section">
                        <h3 class="section-title">Anthropometric Parameters</h3>

                        <label class="form-label">Height</label>
                        <div class="input-with-unit">
                            <input asp-for="Height" type="number"
                                   class="form-input"
                                   placeholder="Enter your height"
                                   id="height" oninput="calculateBMI()" />
                            <span asp-validation-for="Height" class="text-danger"></span>
                        </div>

                        <label class="form-label">Weight</label>
                        <div class="input-with-unit">
                            <input asp-for="Weight" type="number"
                                   class="form-input"
                                   placeholder="Enter your weight"
                                   id="weight" oninput="calculateBMI()" />
                            <span asp-validation-for="Weight" class="text-danger"></span>
                        </div>

                        <label class="form-label">BMI</label>
                        <input asp-for="BMI" type="text"
                               class="form-input"
                               placeholder="Automatically calculated from height and weight"
                               id="bmi"
                               readonly />
                        
                    </div>

                    <!-- Current Medical Conditions Section -->
                    <div class="form-section">
                        <h3 class="section-title">Current Medical Conditions</h3>

                        <label class="form-label">Main Diagnoses</label>
                        <input asp-for="MainDiagnoses" type="text"
                               class="form-input"
                               placeholder="Enter your main diagnoses" />
                        <span asp-validation-for="MainDiagnoses" class="text-danger"></span>

                        <label class="form-label">Diagnosis Date</label>
                        <div class="input-with-icon">
                            <input asp-for="DiagnosisDate" type="date"
                                   class="form-input"
                                   placeholder="DD/MM/YYYY" />
                            
                            <span asp-validation-for="DiagnosisDate" class="text-danger"></span>
                        </div>
                        
                    </div>

                    <!-- Drug Therapy Section -->
                    <div class="form-section">
                        <h3 class="section-title">Drug Therapy</h3>

                        <label class="form-label">Drug Name</label>
                        <input asp-for="DrugName" type="text"
                               class="form-input"
                               placeholder="Enter drug name" />
                        <span asp-validation-for="DrugName" class="text-danger"></span>

                        <div class="two-column-inputs">
                            <div>
                                <label class="form-label">Dosage</label>
                                <input asp-for="Dosage" type="text"
                                       class="form-input"
                                       placeholder="e.g., 10 mg" />
                                <span asp-validation-for="Dosage" class="text-danger"></span>
                            </div>
                            <div>
                                <label class="form-label">Frequency</label>
                                <input asp-for="Frequency" type="text"
                                       class="form-input"
                                       placeholder="e.g., Once daily" />
                                <span asp-validation-for="Frequency" class="text-danger"></span>
                            </div>
                        </div>

                        <label class="form-label">Start Date</label>
                        <div class="input-with-icon">
                            <input asp-for="StartDate" type="date"
                                   class="form-input"
                                   placeholder="DD/MM/YYYY" />
                            <span asp-validation-for="StartDate" class="text-danger"></span>
                        </div>
                    </div>

                    <!-- Buttons -->
                    <div class="form-buttons">
                        @* <button type="button" *@
                        @*         class="btn btn-prev" *@
                        @*         onclick="prevStep()" *@
                        @*         > *@
                        @*     Previous *@
                        @* </button> *@
                        <a asp-controller = "Account" asp-action="BasicInfo" type="button" class="btn btn-prev">Previous</a>
                        <button type="submit" class="btn btn-next">Next</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>
<!-- Medical Profile Form End -->






@* Script added by sazib *@

@section Scripts {
    <script>
        function calculateBMI() {
            var height = parseFloat(document.getElementById('height').value);
            var weight = parseFloat(document.getElementById('weight').value);
            var bmiField = document.getElementById('bmi');
            if (height > 0 && weight > 0) {
                var bmi = weight / ((height / 100) * (height / 100));
                bmiField.value = bmi.toFixed(2);
            } else {
                bmiField.value = '';
            }
        }
    </script>
}